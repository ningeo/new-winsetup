$schema: https://raw.githubusercontent.com/PowerShell/DSC/main/schemas/v3/config/document.json
metadata:
  winget:
    processor: dscv3
resources:
  - name: Add Oh My Posh configuration
    type: OhMyPosh/Config
    properties:
      states:
        - source: ~/.config/oh-my-posh/pwshtheme.omp.json
          format: json
          version: 2

  - name: Initialize PowerShell
    type: OhMyPosh/Shell
    properties:
      states:
        - name: pwsh
          command: oh-my-posh init pwsh --config ~/.config/oh-my-posh/pwshtheme.omp.json

  - name: Add Bash OMP config
    type: OhMyPosh/Config
    properties:
      states:
        - source: ~/.config/oh-my-posh/bashtheme.omp.json
          format: json
          version: 2

  - name: Initialize bash
    type: OhMyPosh/Shell
    properties:
      states:
        - name: bash
          command: oh-my-posh init bash --config ~/.config/oh-my-posh/bashtheme.omp.json